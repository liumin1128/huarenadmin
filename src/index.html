{% extends 'includes/layout.html' %}

{% block title %}华人生活网-后台管理系统{% endblock %}

{% block pluginscss %}
	<link rel="stylesheet" href="assets/js/plugins/datatables/jquery.dataTables.min.css">
	<link rel="stylesheet" href="assets/js/plugins/bootstrap-datepicker/bootstrap-datepicker3.min.css">
	<link rel="stylesheet" href="assets/js/plugins/bootstrap-datetimepicker/bootstrap-datetimepicker.min.css">
	<link rel="stylesheet" href="assets/js/plugins/slick/slick.min.css">
        <link rel="stylesheet" href="assets/js/plugins/slick/slick-theme.min.css">
{% endblock %}
    
{% block page-content %}
<div class="content" id="app">
	<!-- My Block -->
	<div class="block block-rounded block-bordered">
		<div class="block-header">
			<ul class="block-options">
				<li>
					<button type="button"><i class="si si-settings"></i></button>
				</li>
				<li>
					<button type="button" data-toggle="block-option" data-action="fullscreen_toggle"></button>
				</li>
				<li>
					<button type="button" data-toggle="block-option" data-action="refresh_toggle" data-action-mode="demo"><i class="si si-refresh"></i></button>
				</li>
				<li>
					<button type="button" data-toggle="block-option" data-action="content_toggle"></button>
				</li>
				<li>
					<button type="button" data-toggle="block-option" data-action="close"><i class="si si-close"></i></button>
				</li>
			</ul>
			<h3 class="block-title">
				<i class="fa fa-cog"></i> 编辑{{ keyword }}
			</h3>
		</div>
		<div class="block-content">
			<form action="base_forms_elements.html" method="post" class="form-horizontal clearfix" onsubmit="return false;">
				<div class="col-md-4 col-sm-6 form-group flex-center">
					<div class="nowrap">信息分类:</div>
					<select class="form-control margin10" id="example-select" name="example-select" size="1">
						<option value="0">求职招聘</option>
						<option value="1">房屋出租</option>
						<option value="1">同城服务</option>
						<option value="1">生意投资</option>
						<option value="1">二手汽车</option>
						<option value="1">物品交易</option>
						<option value="1">宠物花鸟</option>
						<option value="1">互帮互助</option>
					</select>
				</div>
				<div class="col-md-4 col-sm-6 form-group flex-center">
					<div class="nowrap">审核状态:</div>
					<select class="form-control margin10" id="example-select" name="example-select" size="1">
						<option value="0">审核未通过</option>
						<option value="1">需要审核</option>
						<option value="1">通过审核</option>
 					</select>
				</div>
	
			</form>
			<!-- DataTables init on table by adding .js-dataTable-full class, functionality initialized in js/pages/base_tables_datatables.js -->
			<div id="DataTables_Table_1_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer">
				<div class="row">
					<div class="col-sm-12">
					
					<div class="table-responsive noborder">

						<table class="table table-bordered table-striped js-dataTable-full dataTable no-footer" id="DataTables_Table_1" role="grid"
							aria-describedby="DataTables_Table_1_info">
							<thead>
								<tr role="row">
									<th class="hidden-xs text-center sorting_asc" tabindex="0" aria-controls="DataTables_Table_1" rowspan="1" colspan="1" aria-sort="ascending"
										aria-label=": activate to sort column descending" style="">Image</th>
									<th class="text-center widther sorting_asc" tabindex="0" aria-controls="DataTables_Table_1" rowspan="1" colspan="1" aria-sort="ascending"
										aria-label=": activate to sort column descending" style="">标题</th>
									<th class="hidden-xs text-center sorting_asc" tabindex="0" aria-controls="DataTables_Table_1" rowspan="1" colspan="1" aria-label="Name: activate to sort column ascending"
										style="">小分类</th>
									<th class="hidden-xs text-center" tabindex="0" aria-controls="DataTables_Table_1" rowspan="1" colspan="1" aria-sort="ascending" aria-label=": activate to sort column descending"
										style="">头像</th>
									<th class=" text-center sorting_asc" tabindex="0" aria-controls="DataTables_Table_1" rowspan="1" colspan="1" aria-sort="ascending"
										aria-label=": activate to sort column descending" style="">名字</th>
									<th class="hidden-xs text-center sorting_asc" tabindex="0" aria-controls="DataTables_Table_1" rowspan="1" colspan="1" aria-sort="ascending"
										aria-label=": activate to sort column descending" style="">地区</th>
									<th class="hidden-xs text-center sorting_asc" tabindex="0" aria-controls="DataTables_Table_1" rowspan="1" colspan="1" aria-sort="ascending"
										aria-label=": activate to sort column descending" style="">发布</th>
									<th class="hidden-xs text-center sorting_asc" tabindex="0" aria-controls="DataTables_Table_1" rowspan="1" colspan="1" aria-sort="ascending"
										aria-label=": activate to sort column descending" style="font-size:14px;">更新</th>
									<th class="text-center sorting_asc" tabindex="0" aria-controls="DataTables_Table_1" rowspan="1" colspan="1" aria-sort="ascending"
										aria-label=": activate to sort column descending" style="">操作</th>
								</tr>
							</thead>
							<tbody>
								<tr v-for="item,index in data" class="vertical-middle">
									<td class="hidden-xs maxwidth-150" style="width:10px"><img class="img-responsive" v-bind:src=item.headimg alt="" /></td>
									<td class="text-center maxwidth-150" style="min-width:200px">
										<a 
										v-on:click="getCurrent(index)"
										data-toggle="modal" data-target="#modal-popin-detail" href="#" type="button">
											&#123&#123 item.title &#125&#125
										</a>                                 
									</td>
									<td class="hidden-xs text-center maxwidth-150"><span class="label label-success">&#123&#123 item.subType &#125&#125</span></td>
									<td class="hidden-xs maxwidth-150"><img class="img-responsive headimg" v-bind:src=item.headimg alt="" /></td>
									<td class=" text-center"><a data-toggle="modal" data-target="#modal-popin-user" href="#" type="button">&#123&#123 item.name &#125&#125</a></td>
									<td class="hidden-xs text-center maxwidth-150">&#123&#123 item.city &#125&#125</td>
									<td class="hidden-xs text-center maxwidth-150">&#123&#123 item.createAt &#125&#125</td>
									<td class="hidden-xs text-center maxwidth-150">&#123&#123 item.updateAt &#125&#125</td>
									<td class="text-center maxwidth-150">
										<div v-if=item.status==0>
											<div class="btn-group flex-center" style="justify-content:center">
											<div class="btn-group dropup">
												<button class="btn btn-default dropdown-toggle" data-toggle="dropdown" type="button">
													<i class="fa fa-pencil"></i>
												</button>
												<ul class="dropdown-menu dropdown-menu-right font-s13 sidebar-mini-hide nopadding">
													<li>
														<button 
															v-on:click="pass(index,2)"
															class="btn btn-block btn-default noborderradius" tabindex="-1">
															审核不通过理由2
														</button>
													</li>
													<li>
														<button v-on:click="pass(index,3)" class="btn btn-block btn-info noborderradius" tabindex="-1">
															<span class="font-w600">审核不通过理由3</span>
														</button>
													</li>
													<li>
														<button v-on:click="pass(index,4)" class="btn btn-block btn-primary noborderradius" tabindex="-1">
															<span class="font-w600">审核不通过理由4</span>
														</button>
													</li>
													<li>
														<button v-on:click="pass(index,5)" class="btn btn-block btn-danger noborderradius" tabindex="-1">
															<span class="font-w600">审核不通过理由5</span>
														</button>
													</li>
												</ul>
											</div>
											<button 
												data-notify-type="success" 
												data-notify-icon="fa fa-check" 
												data-notify-message="审核通过！" 
												v-on:click="pass(index,1)"
												class="js-notify btn btn-default" 
												type="button" title=""> 
													<i class="fa fa-check"></i>
											</button>
										</div>
										</div>
										<div style="justify-content:center" class="flex-center" v-else>
											<span class="label label-success" v-show=item.status==1>已通过</span>
											<span class="label label-default" v-show=item.status==2>信息错误1</span>
											<span class="label label-info" v-show=item.status==3>不通过理由2</span>
											<span class="label label-primary" v-show=item.status==4>理由3</span>
											<span class="label label-danger" v-show=item.status==5>违法信息4</span>
											<span 
												v-on:click="pass(index,0)"
												style="margin-left:3px;color:#999;"
												type="button" title=""> 
													<i class="fa fa-mail-reply"></i>
											</span>

										</div>
										
									</td>
								</tr>


							</tbody>
						</table>

						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- END My Block -->

	<!-- Pop In Modal -->
        <div class="modal fade" id="modal-popin-detail" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog modal-dialog-popin">
                <div class="modal-content">
                    <div class="block block-themed block-transparent remove-margin-b">
                        <div class="block-header bg-primary-dark">
                            <ul class="block-options">
                                <li>
                                    <button data-dismiss="modal" type="button"><i class="si si-close"></i></button>
                                </li>
                            </ul>
                            <h3 class="block-title">详情--&#123&#123 current.data.title &#125&#125</h3>
                        </div>

                        <div class="block-content nopadding">
							
							<!--图片轮播-->
							<div id="carousel-example-generic" class="carousel slide" data-ride="carousel" style="max-height: 200px;overflow:hidden;">
								<!-- Indicators -->
								<ol class="carousel-indicators">
									<li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
									<li data-target="#carousel-example-generic" data-slide-to="1"></li>
									<li data-target="#carousel-example-generic" data-slide-to="2"></li>
								</ol>

								<!-- Wrapper for slides -->
								<div class="carousel-inner" role="listbox">
									<div class="item active">
										<img class="img-responsive" src="assets/img/photos/photo1.jpg" alt="...">
									</div>
									<div class="item">
										<img class="img-responsive" src="assets/img/photos/photo5.jpg" alt="...">
									</div>
									<div class="item">
										<img class="img-responsive" src="assets/img/photos/photo8.jpg" alt="...">
									</div>

								</div>

								<!-- Controls -->
								<a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
									<span class="glyphicon glyphicon-chevron-left"></span>
									<span class="sr-only">Previous</span>
								</a>
								<a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
									<span class="glyphicon glyphicon-chevron-right"></span>
									<span class="sr-only">Next</span>
								</a>
								</div>							
							<!--图片轮播-->
							<div class="block" style="margin-bottom:0">
                                <div class="block-content nomargin block-content-full ribbon ribbon-primary">
                                    <div class="ribbon-box font-w600">&#123&#123 current.data.subType &#125&#125</div>
                                    <div class="text-center">
                                        <!--<i class="fa fa-html5 fa-3x text-gray push"></i>-->
										<img class="headimg" v-bind:src=current.data.headimg alt="">
                                        <h3 class="h5 push-10-t">
											&#123&#123 current.data.name &#125&#125
											<span class="small">--&#123&#123 current.data.city &#125&#125</span>
										</h3>
                                    </div>
                                </div>
                            </div>

                            
							<ul class="list-unstyled nomargin padding10">
								
								<li>
									<span class="leftspan1">帖子描述：</span>&#123&#123 current.data.dsc &#125&#125
								</li>
								<li>
									<span class="leftspan1">发布时间：</span>&#123&#123 current.data.createAt &#125&#125
								</li>
								<li>
									<span class="leftspan1">更新时间：</span>&#123&#123 current.data.updateAt &#125&#125
								</li>
								
							</ul>
                        
						
						
						</div>
                    </div>
                    <div class="modal-footer">
						

										<div v-if=current.data.status==0>
											<div class="btn-group flex-center" style="justify-content:center">
											<div class="btn-group dropup">
												<button class="btn btn-default dropdown-toggle" data-toggle="dropdown" type="button">
													审核不通过及理由
												</button>
												<ul class="dropdown-menu dropdown-menu-right font-s13 sidebar-mini-hide nopadding">
													<li>
														<button 
															v-on:click="next(current.index,2)"
															class="btn btn-block btn-default noborderradius" tabindex="-1">
															审核不通过理由2
														</button>
													</li>
													<li>
														<button v-on:click="next(current.index,3)" class="btn btn-block btn-info noborderradius" tabindex="-1">
															<span class="font-w600">审核不通过理由3</span>
														</button>
													</li>
													<li>
														<button v-on:click="next(current.index,4)" class="btn btn-block btn-primary noborderradius" tabindex="-1">
															<span class="font-w600">审核不通过理由4</span>
														</button>
													</li>
													<li>
														<button v-on:click="next(current.index,5)" class="btn btn-block btn-danger noborderradius" tabindex="-1">
															<span class="font-w600">审核不通过理由5</span>
														</button>
													</li>
												</ul>
											</div>
											<button 
												data-notify-type="success" 
												data-notify-icon="fa fa-check" 
												data-notify-message="审核通过！" 
												v-on:click="next(current.index,1)"
												class="js-notify btn btn-success" 
												type="button" title=""> 
													审核通过，下一个
											</button>
										</div>
										</div>
										<div style="justify-content:center" class="flex-center" v-else>
											<span class="label label-success" v-show=current.data.status==1>已通过</span>
											<span class="label label-default" v-show=current.data.status==2>信息错误1</span>
											<span class="label label-info" v-show=current.data.status==3>不通过理由2</span>
											<span class="label label-primary" v-show=current.data.status==4>理由3</span>
											<span class="label label-danger" v-show=current.data.status==5>违法信息4</span>
											<span 
												v-on:click="pass(current.index,0)"
												style="margin-left:3px;color:#999;"
												type="button" title=""> 
													<i class="fa fa-mail-reply"></i>
											</span>
											<span class="label label-info" style="margin-left:10px" v-if=current.index==data.length-1>这是最后一条</span>
											

										</div>



					</div>
                </div>
            </div>
        </div>
    <!-- END Pop In Modal -->

	<!-- Pop In Modal User-->
        <div class="modal fade" id="modal-popin-user" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog modal-dialog-popin">
                <div class="modal-content">
                    <div class="block block-themed block-transparent remove-margin-b">
                        <div class="block-header bg-primary-dark">
                            <ul class="block-options">
                                <li>
                                    <button data-dismiss="modal" type="button"><i class="si si-close"></i></button>
                                </li>
                            </ul>
                            <h3 class="block-title">详情--用户信息</h3>
                        </div>

                        <div class="block-content nopadding">
							
							
							<div class="block" style="margin-bottom:0">
                                <div class="block-content nomargin block-content-full ribbon ribbon-primary">
                                    <div class="ribbon-box font-w600">♂ 22岁</div>
                                    <div class="text-center">
                                        <!--<i class="fa fa-html5 fa-3x text-gray push"></i>-->
										<img class="headimg" src="images/1.jpg" alt="">
                                        <h3 class="h5 push-10-t">
											用户名xxx
											<span class="small">--洛杉矶</span>
										</h3>
                                    </div>
                                </div>
                            </div>

                            
							<ul class="list-unstyled nomargin padding10">
								
								<li>
									<span class="leftspan1">自我介绍：</span>自我介绍自我介绍自我介绍
								</li>
								<li>
									<span class="leftspan1">出生日期：</span>1994-11-28
								</li>
								<li>
									<span class="leftspan1">身高：</span>178
								</li>
								<li>
									<span class="leftspan1">体重：</span>143
								</li>
								<li>
									<span class="leftspan1">居住地：</span>未填写
								</li>
								<li>
									<span class="leftspan1">学历：</span>大学本科
								</li>
								<li>
									<span class="leftspan1">星座：</span>射手座
								</li>
								<li>
									<span class="leftspan1">体重：</span>143
								</li>
								<li>
									<span class="leftspan1">体重：</span>143
								</li>
								
								
								<li>
									<span class="leftspan1">发布时间：</span>2016/6/12--21:15:56
								</li>
								<li>
									<span class="leftspan1">更新时间：</span>2016/6/12--21:15:56
								</li>
								
							</ul>
                        
						
						
						</div>
                    </div>
                    <div class="modal-footer">
					
                        <button class="btn btn-primary" type="button" data-dismiss="modal"><i class="fa fa-check"></i> 确定</button>
                    </div>
                </div>
            </div>
        </div>
    <!-- END Pop In Modal -->

	
</div>
{% endblock %}

{% block bower-js %}
    <!--<script src="/bower_components/vue/dist/vue.js"></script>-->
{% endblock %}

{% block page-js %}

<!-- Page JS Plugins -->
<script src="assets/js/plugins/datatables/jquery.dataTables.min.js"></script>
<script src="assets/js/plugins/bootstrap-datepicker/bootstrap-datepicker.min.js"></script>
<script src="assets/js/plugins/bootstrap-datetimepicker/moment.min.js"></script>
<script src="assets/js/plugins/bootstrap-datetimepicker/bootstrap-datetimepicker.min.js"></script>
<script src="assets/js/plugins/jquery-auto-complete/jquery.auto-complete.min.js"></script>

<!-- Page JS Code -->
<script src="assets/js/pages/base_tables_datatables.js"></script>
<script src="assets/js/vue.js"></script>
<script src="assets/js/pages/base_forms_pickers_more.js"></script>
<script src="assets/js/plugins/bootstrap-notify/bootstrap-notify.min.js"></script>
<script src="assets/js/pages/base_ui_activity.js"></script>
<script src="assets/js/plugins/slick/slick.min.js"></script>



<script>
	function getData(){
	//创建虚拟数据
	var dataArray = [];
	for(var i = 0; i < 100; i++){
		var temp = {
		headimg: 'images/1.jpg',
		id: 112080+i,
		subType: '精品豪宅',
		title: i+'反正就是很好很好的房子啦,会飞的那种...',
		dsc: i+'帖子描述,分类信息...',
		name: i+'威尔史密斯',
		price: '少于5'+Math.floor(Math.random()*1000)+'$',
		city: '洛杉矶',
		coverimage: 'images/1.jpg',
		createAt: '6/23/2016',
		updateAt: '10/16/2016',
		operation: '操作url未定义',
		status: 0
		}
		dataArray.push(temp);
	}
	console.log(dataArray);
		return dataArray;
	}
	window.vueInstance = new Vue({
		el: '#app',
		data: {
			data: getData(),
			current: {
				index: 0,
				data: {}
			}
		},
		methods: {
			pass: function (index,val) {
				this.data[index].status = val;
			},
			next: function (index,val) {
				this.pass(index,val);
				this.getCurrent(index+1);
			},
			getCurrent: function(index) {
				if(index >= this.data.length){
				}else{
					this.current.index = index;
					this.current.data = this.data[index];
				}
			}
  		}
	})

	function pass(index) {
		//window.vueInstance.$data.data.splice(1,1);
		alert(index);
	}
	jQuery(function () {
		// Init page helpers (BS Datepicker + BS Datetimepicker + BS Colorpicker + BS Maxlength + Select2 + Masked Input + Range Sliders + Tags Inputs plugins)
		App.initHelpers(['datepicker', 'datetimepicker','notify','slick']);
	});
</script>

{% endblock %}
